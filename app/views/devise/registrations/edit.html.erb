<div class="max-w-md mx-auto py-2">
  <h1 class="text-3xl font-semibold text-white text-center">Account settings</h1>
  <p class="mt-2 text-center text-sm text-gray-400">Update your profile and password</p>

  <%= form_with model: resource, url: registration_path(resource_name), method: :put, data: { turbo: true }, class: "mt-6 space-y-3" do |f| %>
    <%= f.text_field_row  :name,  label: "Full name", icon: "person" %>
    <%= f.email_field_row :email, label: "Email",      icon: "envelope" %>

    <hr class="my-6 border-gray-800">

    <p class="text-sm text-gray-400">Change password (optional)</p>
    <%= f.password_field_row :password, label: "New password", icon: "lock", reveal: true, autocomplete: "new-password", hint: "Leave blank to keep current password." %>
    <%= f.password_field_row :password_confirmation, label: "Confirm new password", icon: "shield-lock", reveal: true, autocomplete: "new-password" %>
    <%= f.password_field_row :current_password, label: "Current password", icon: "key", reveal: true, autocomplete: "current-password", hint: "Required to confirm changes." %>

    <div>
      <%= f.submit "Save changes",
                   class: "w-full inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 font-semibold text-white shadow-sm transition hover:bg-emerald-500 focus:outline-none focus-visible:ring-4 focus-visible:ring-emerald-500/30" %>
    </div>
  <% end %>

  <hr class="my-6 border-gray-800">

  <div class="flex items-center justify-between">
    <span class="text-sm text-gray-400">Want to leave?</span>
    <%= button_to "Delete my account",
                  registration_path(resource_name),
                  method: :delete,
                  data: { turbo_confirm: "Are you sure? This cannot be undone." },
                  class: "inline-flex items-center gap-2 rounded-lg border border-red-400/30 bg-gray-900 px-4 py-2 font-medium text-red-300 shadow-sm hover:bg-gray-800" %>
  </div>

  <div class="mt-6 text-center text-sm">
    <%= link_to "Back to Dashboard", dashboard_path, class: "text-emerald-400 hover:text-emerald-300 underline underline-offset-1" %>
  </div>
</div>
