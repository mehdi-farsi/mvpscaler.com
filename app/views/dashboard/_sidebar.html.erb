<aside
  id="app-sidebar"
  class="fixed left-0 top-0 z-50 h-screen bg-gray-900 text-gray-100 shadow-2xl"
  data-controller="dashboard-sidebar"
  data-dashboard-sidebar-collapsed-width-value="64"
  data-dashboard-sidebar-expanded-width-value="240"
  data-dashboard-sidebar-animation-duration-value="0.22"
  data-dashboard-sidebar-ease-value="power2.out"
  data-action="mouseenter->dashboard-sidebar#expand mouseleave->dashboard-sidebar#collapse"
>

  <!-- Brand / logo -->
  <div class="flex items-center h-14 px-3 border-b border-white/10">
    <%= link_to root_path, class: "flex items-center gap-3" do %>
      <%= image_tag "logo-mvpscaler-mark.svg", alt: "MVPScaler", class: "h-6 w-6 shrink-0" %>
      <span data-dashboard-sidebar-target="label"
            class="opacity-0 pointer-events-none text-sm font-semibold tracking-tight">
        MVPScaler
      </span>
    <% end %>
  </div>

  <!-- Nav -->
  <nav class="py-3">
    <ul class="space-y-1 px-2">

      <li>
        <%= link_to dashboard_path,
                    class: "flex items-center gap-3 rounded-lg px-3 py-2 text-sm hover:bg-white/5" do %>
          <i class="bi bi-speedometer2 text-base shrink-0"></i>
          <span data-dashboard-sidebar-target="label" class="opacity-0 pointer-events-none">Dashboard</span>
        <% end %>
      </li>

      <li>
        <%= link_to projects_path,
                    class: "flex items-center gap-3 rounded-lg px-3 py-2 text-sm hover:bg-white/5" do %>
          <i class="bi bi-boxes text-base shrink-0"></i>
          <span data-dashboard-sidebar-target="label" class="opacity-0 pointer-events-none">Projects</span>
        <% end %>
      </li>

      <li>
        <%= link_to new_project_path,
                    class: "flex items-center gap-3 rounded-lg px-3 py-2 text-sm hover:bg-white/5" do %>
          <i class="bi bi-plus-square text-base shrink-0"></i>
          <span data-dashboard-sidebar-target="label" class="opacity-0 pointer-events-none">New project</span>
        <% end %>
      </li>

      <li class="mt-3 pt-3 border-t border-white/10">
        <%= link_to "/docs",
                    class: "flex items-center gap-3 rounded-lg px-3 py-2 text-sm hover:bg-white/5" do %>
          <i class="bi bi-journal-text text-base shrink-0"></i>
          <span data-dashboard-sidebar-target="label" class="opacity-0 pointer-events-none">Docs</span>
        <% end %>
      </li>

      <li>
        <%= link_to edit_user_registration_path,
                    class: "flex items-center gap-3 rounded-lg px-3 py-2 text-sm hover:bg-white/5" do %>
          <i class="bi bi-gear text-base shrink-0"></i>
          <span data-dashboard-sidebar-target="label" class="opacity-0 pointer-events-none">Account</span>
        <% end %>
      </li>

      <li>
        <%= link_to destroy_user_session_path,
                    data: { turbo_method: :delete },
                    class: "flex items-center gap-3 rounded-lg px-3 py-2 text-sm hover:bg-white/5" do %>
          <i class="bi bi-box-arrow-right text-base shrink-0"></i>
          <span data-dashboard-sidebar-target="label" class="opacity-0 pointer-events-none">Sign out</span>
        <% end %>
      </li>

    </ul>
  </nav>
</aside>

<!-- Mobile backdrop -->
<div id="sidebar-backdrop"
     class="fixed inset-0 z-40 bg-black/40 backdrop-blur-sm hidden md:hidden"
     data-dashboard-sidebar-target="backdrop"
     data-action="click->dashboard-sidebar#collapse">
</div>
